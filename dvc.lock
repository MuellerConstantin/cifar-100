schema: '2.0'
stages:
  fetch_data:
    cmd: fetch_data -v -o data/raw
    outs:
    - path: data/raw/test
      hash: md5
      md5: bcb568ecea6ef3e3c8e8169fae085cf6.dir
      size: 31410079
      nfiles: 3
    - path: data/raw/train
      hash: md5
      md5: be42a485d0164c545e5e71c93e043ebf.dir
      size: 157050080
      nfiles: 3
  split:
    cmd: split -v -i data/raw/train -t data/splitted/train -e data/splitted/validation
    deps:
    - path: data/raw/train
      hash: md5
      md5: be42a485d0164c545e5e71c93e043ebf.dir
      size: 157050080
      nfiles: 3
    params:
      params.yaml:
        general.validation_split_ratio: 0.2
    outs:
    - path: data/splitted/train
      hash: md5
      md5: 369ff03a4524bd68a11007a8f5a19431.dir
      size: 125640080
      nfiles: 3
    - path: data/splitted/validation
      hash: md5
      md5: 8e5d1c98a2a3eeabaae857a363d23bcb.dir
      size: 31410079
      nfiles: 3
  train_cnn:
    cmd: train_cnn -v -t data/splitted/train -e data/splitted/validation -o models
    deps:
    - path: data/splitted/train
      hash: md5
      md5: 369ff03a4524bd68a11007a8f5a19431.dir
      size: 125640080
      nfiles: 3
    - path: data/splitted/validation
      hash: md5
      md5: 8e5d1c98a2a3eeabaae857a363d23bcb.dir
      size: 31410079
      nfiles: 3
    params:
      params.yaml:
        general.batch_size: 32
        train_cnn.epochs: 10
    outs:
    - path: models/cnn_history.npy
      hash: md5
      md5: ea75d0d8ad296e4800accc38b2256b13
      size: 722
    - path: models/cnn_model.keras
      hash: md5
      md5: face24aa19a32600e194d0a145d0392f
      size: 24164189
  evaluate_cnn:
    cmd: evaluate_cnn -v -m models/cnn_model.keras -t data/splitted/train -e data/raw/test
    deps:
    - path: data/raw/test
      hash: md5
      md5: bcb568ecea6ef3e3c8e8169fae085cf6.dir
      size: 31410079
      nfiles: 3
    - path: data/splitted/train
      hash: md5
      md5: 369ff03a4524bd68a11007a8f5a19431.dir
      size: 125640080
      nfiles: 3
    - path: models/cnn_model.keras
      hash: md5
      md5: face24aa19a32600e194d0a145d0392f
      size: 24164189
    params:
      params.yaml:
        general.batch_size: 32
    outs:
    - path: dvclive/cnn
      hash: md5
      md5: c6564d108554e042b8623ffe495e8d11.dir
      size: 210
      nfiles: 3
